---
title: "Beware of ROW_NUMBER without ORDER BY"
datePublished: Tue Sep 30 2025 05:20:48 GMT+0000 (Coordinated Universal Time)
cuid: cmg6404ho000002jr77x13ow5
slug: beware-of-rownumber-without-order-by
cover: https://cdn.hashnode.com/res/hashnode/image/stock/unsplash/WLNdV3xC-fI/upload/bacd9dd2a036c9003d8f37000c8475a0.jpeg
tags: analytics, google-cloud, sql, bigquery, dataengineering

---

Haven’t posted all summer, but this bug pulled me straight out of the shadows.

I recently faced a mystery that pushed me to the edge of despair.

It seemed like a simple issue at first glance. A report kept changing completely at random.

I spent a good few days chasing it across multiple weeks . Imagine juggling several tables with time travel, all joined together. Trying to catch the bug.

I started to wonder if time travel even worked correctly. I wasn’t able to reproduce previous states, even when all the inputs had data from that exact point in time.

I began to question if I’d make it. The culprit?

Take this as a cautionary tale against using ROW\_NUMBER() OVER(PARTITION BY …) without an accompanying ORDER BY.

Tucked into a table somewhere, it haunted me and wreaked havoc. I don’t know if there’s a real use case for it like that — but expect surprises.

![](https://cdn.hashnode.com/res/hashnode/image/upload/v1759209508293/e382bdb5-55f0-4edd-a27f-0b9de55429f4.jpeg align="center")

*Found it useful? Subscribe to my Analytics newsletter at* [***notjustsql.com***](https://notjustsql.com/)*.*